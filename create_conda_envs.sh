#!/bin/bash

# RSAT-core
conda create -n rsat -c r -c bioconda -c conda-forge _r-mutex aioeasywebdav aiohttp appdirs async-timeout attrs bcrypt bedtools bioconductor-ctc bioconductor-qvalue blast boto3 botocore brotlipy bwidget bzip2 c-ares ca-certificates cachetools cairo cctools_osx-64 certifi cffi chardet clang clang_osx-64 clangxx clangxx_osx-64 clustalw compiler-rt compiler-rt_osx-64 configargparse cryptography curl cycler cyrus-sasl d3 datrie decorator docutils dropbox entrez-direct expat filechunkio fontconfig freetype fribidi ftputil gettext gfortran_impl_osx-64 gfortran_osx-64 ghostscript giflib gitdb gitpython glib gmp gnuplot google-api-core google-auth google-cloud-core google-cloud-storage google-crc32c google-resumable-media googleapis-common-protos graphite2 graphviz gsl harfbuzz htslib httplib2 icu idna importlib-metadata importlib_metadata isl jinja2 jmespath jpeg jsonschema kiwisolver krb5 lcms2 ld64_osx-64 libblas libcblas libclang-cpp10 libcrc32c libcurl libcxx libdb libdeflate libedit libev libevent libffi libgcc libgd libiconv liblapack libllvm10 libnghttp2 libntlm libopenblas libpng libprotobuf libssh2 libtiff libwebp libwebp-base libxml2 libxslt llvm-openmp llvm-tools lz4-c make markupsafe matplotlib matplotlib-base mpc mpfr multidict mysql mysql-client mysql-common mysql-connector-c mysql-devel mysql-libs mysql-server ncurses networkx numpy olefile openssl paml pandas pango paramiko pcre pcre2 perl=5.26.2=h470a237_0 perl-aceperl perl-algorithm-cluster perl-algorithm-diff perl-algorithm-munkres perl-apache-test perl-app-cpanminus perl-appconfig perl-archive-tar perl-array-compare perl-autoloader perl-b-hooks-endofscope perl-base perl-bio-asn1-entrezgene perl-bio-bigfile perl-bio-coordinate perl-bio-das perl-bio-db-hts perl-bio-featureio perl-bio-phylo perl-bio-samtools perl-bio-tools-phylo-paml perl-bio-tools-run-alignment-clustalw perl-bioperl perl-bioperl-core perl-bioperl-run perl-business-isbn perl-business-isbn-data perl-cache-cache perl-capture-tiny perl-carp perl-cgi perl-class-data-inheritable perl-class-inspector perl-class-load perl-class-load-xs perl-class-method-modifiers perl-class-std perl-class-std-fast perl-clone perl-common-sense perl-compress-raw-bzip2 perl-compress-raw-zlib perl-constant perl-convert-binary-c perl-convert-binhex perl-crypt-rc4 perl-data-dumper perl-data-optlist perl-data-predicate perl-data-stag perl-date-format perl-db-file perl-dbd-mysql perl-dbd-sqlite perl-dbi perl-devel-globaldestruction perl-devel-overloadinfo perl-devel-stacktrace perl-digest-hmac perl-digest-md5 perl-digest-md5-file perl-digest-perl-md5 perl-digest-sha1 perl-dist-checkconflicts perl-dynaloader perl-email-date-format perl-email-simple perl-encode perl-encode-locale perl-ensembl-api perl-ensembl-compara perl-ensembl-core perl-ensembl-funcgen perl-ensembl-genomes perl-ensembl-io perl-ensembl-variation perl-error perl-eval-closure perl-exception-class perl-exporter perl-exporter-tiny perl-extutils-makemaker perl-file-listing perl-file-path perl-file-slurp-tiny perl-file-sort perl-file-spec perl-file-temp perl-file-which perl-font-afm perl-font-ttf perl-gd perl-getopt-long perl-graph perl-graphviz perl-html-element-extended perl-html-entities-numbered perl-html-formatter perl-html-parser perl-html-tableextract perl-html-tagset perl-html-template perl-html-tidy perl-html-tree perl-html-treebuilder-xpath perl-http-cookies perl-http-daemon perl-http-date perl-http-message perl-http-negotiate perl-http-tiny perl-image-info perl-image-size perl-io-all perl-io-compress perl-io-html perl-io-sessiondata perl-io-socket-ssl perl-io-string perl-io-stringy perl-io-tty perl-io-zlib perl-ipc-run perl-ipc-sharelite perl-jcode perl-json perl-json-xs perl-lib perl-libwww-perl perl-libxml-perl perl-list-compare perl-list-moreutils perl-list-moreutils-xs perl-lockfile-simple perl-log-log4perl perl-lwp-mediatypes perl-lwp-protocol-https perl-lwp-simple perl-mailtools perl-math-cdf perl-math-derivative perl-math-random perl-math-spline perl-mce perl-mce-shared perl-mime-base64 perl-mime-lite perl-mime-tools perl-mime-types perl-mldbm perl-module-implementation perl-module-runtime perl-module-runtime-conflicts perl-moo perl-moose perl-mozilla-ca perl-mro-compat perl-namespace-autoclean perl-namespace-clean perl-net-http perl-net-ssleay perl-ntlm perl-number-format perl-object-insideout perl-ole-storage_lite perl-package-deprecationmanager perl-package-stash perl-package-stash-xs perl-parallel-forkmanager perl-params-util perl-parent perl-parse-recdescent perl-pathtools perl-pdf-api2 perl-pod-escapes perl-pod-usage perl-posix perl-postscript perl-readonly perl-rest-client perl-role-tiny perl-scalar-list-utils perl-sereal perl-sereal-decoder perl-sereal-encoder perl-set-intervaltree perl-set-scalar perl-soap-lite perl-socket perl-sort-naturally perl-spreadsheet-parseexcel perl-spreadsheet-writeexcel perl-statistics-descriptive perl-statistics-distributions perl-storable perl-string-approx perl-sub-exporter perl-sub-exporter-progressive perl-sub-identify perl-sub-install perl-sub-name perl-sub-quote perl-sub-uplevel perl-svg perl-svg-graph perl-task-weaken perl-template-toolkit perl-test perl-test-deep perl-test-differences perl-test-exception perl-test-harness perl-test-leaktrace perl-test-more perl-test-most perl-test-requiresinternet perl-test-warn perl-text-csv perl-text-diff perl-tie-ixhash perl-time-hires perl-time-local perl-timedate perl-tree-dag_node perl-try-tiny perl-type-tiny perl-types-serialiser perl-unicode-map perl-uri perl-util-properties perl-variable-magic perl-www-robotrules perl-xml-dom perl-xml-dom-xpath perl-xml-filter-buffertext perl-xml-libxml perl-xml-libxslt perl-xml-namespacesupport perl-xml-parser perl-xml-regexp perl-xml-sax perl-xml-sax-base perl-xml-sax-expat perl-xml-sax-writer perl-xml-simple perl-xml-twig perl-xml-writer perl-xml-xpath perl-xml-xpathengine perl-xsloader perl-yaml pillow pip pixman prettytable protobuf psutil pyasn1 pyasn1-modules pycparser pygments pygraphviz pynacl pyopenssl pyparsing pyrsistent pysftp pysocks python=3.7.8 python-dateutil python-irodsclient python_abi pytz pyyaml r-amap r-askpass r-assertthat r-backports r-base r-base64enc r-bitops r-brew r-callr r-catools r-cli r-clipr r-colorspace r-commonmark r-covr r-crayon r-crosstalk r-curl r-data.table r-dendextend r-desc r-devtools r-digest r-dplyr r-dt r-dynamictreecut r-egg r-ellipsis r-evaluate r-fansi r-farver r-flux r-fs r-gdata r-generics r-ggplot2 r-gh r-git2r r-glue r-gplots r-gridextra r-gtable r-gtools r-highr r-htmltools r-htmlwidgets r-httr r-ini r-isoband r-jpeg r-jsonlite r-kernsmooth r-knitr r-labeling r-later r-lattice r-lazyeval r-lifecycle r-magrittr r-markdown r-mass r-matrix r-memoise r-mgcv r-mime r-munsell r-nlme r-openssl r-pillar r-pkgbuild r-pkgconfig r-pkgload r-plyr r-png r-praise r-prettyunits r-processx r-promises r-ps r-purrr r-r6 r-rcmdcheck r-rcolorbrewer r-rcpp r-rematch2 r-remotes r-reshape2 r-rex r-rjsonio r-rlang r-roxygen2 r-rprojroot r-rstudioapi r-rversions r-scales r-sessioninfo r-stringi r-stringr r-sys r-testthat r-tibble r-tidyselect r-usethis r-utf8 r-vctrs r-viridis r-viridislite r-whisker r-withr r-xfun r-xml2 r-xopen r-yaml r-zeallot r-zoo ratelimiter readline requests rsa rsat-core s3transfer scipy seqlogo setuptools six smmap snakemake snakemake-minimal sqlite tapi tidyp tk tktable tornado urllib3 vmatch weblogo wheel wrapt xmlrunner xz yaml yarl zipp zlib zstd

# Perl TFBS module
conda create -n tfbs -c bioconda -c conda-forge -c eumetsat perl=5.26.2=h470a237_0 perl-bioperl-core perl-pdl python=3.7.8
conda activate tfbs
git clone https://github.com/ComputationalRegulatoryGenomicsICL/TFBS.git
cd TFBS/
perl Makefile.PL && make && make install
cd ..
rm -rf TFBS/
